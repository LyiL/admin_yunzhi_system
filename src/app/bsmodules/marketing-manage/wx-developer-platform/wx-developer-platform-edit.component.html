<!--<nz-card [nzBordered]="false" nzTitle="{{model.id ? ('WxDevPlatform.addPlatformPage.editTitle' | translate):('WxDevPlatform.addPlatformPage.addTitle' | translate)}}" class="ng-card-m">-->
<nz-card [nzBordered]="false" class="ng-card-m">
    <form nz-form [formGroup]="wxDevPlatformFormGroup" class="padding-form" (ngSubmit)="onSave()">
        <div nz-row [nzGutter]="40" [nzType]="'flex'" [nzJustify]="'space-between'">
            <!-- 受理机构-->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col  [nzSpan]="5">
                        <label for="organNo" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.organName'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19">
                        <search-input [(ngModel)]="model.organNo" [name]="'organNo'" [nzSize]="'large'" nzPlaceHolder="{{'default.hint.pleaseChoose'|translate}}"
                                      formControlName="organNo"  nzId="organNo" [nzDisabled]="model.id"
                                      [tableCfg]="organNoTableCfg" [displayField]="'name'" [valueField]="'orgNo'" [(displayValue)]="model.organName"
                                      (nzSelect)="onSelectOrganNo($event)" ></search-input>
                        <div nz-form-explain *ngIf="getFormControl('organNo').dirty&&getFormControl('organNo').hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>
                    </div>
                </div>
            </div>
            <!-- 公众账号名称/第三方平台名称 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="name" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.name' | translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [nzSize]="'large'"
                                  [nzId]="'name'"
                                  [(ngModel)]="model.name"
                                  formControlName="name"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">
                        {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 公众号类型 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label  nz-col  [nzSpan]="5">
                        <label for="type" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.type'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-select nzId="type" name="type" [(ngModel)]="model.type" formControlName="type" [nzSize]="'large'" nzPlaceHolder="{{'default.hint.pleaseChoose'|translate}}">
                            <nz-option
                                *ngFor="let type of types | async"
                                [nzLabel]="type.name"
                                [nzValue]="type.id">
                            </nz-option>
                        </nz-select>
                        <div nz-form-explain *ngIf="getFormControl('type').dirty&&getFormControl('type').hasError('required')">
                            {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- APPID -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="appid" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.appid'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [nzSize]="'large'"
                                  [nzId]="'appid'"
                                  [(ngModel)]="model.appid"
                                  formControlName="appid"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('appid').dirty&&getFormControl('appid').hasError('required')">
                        {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 签名密钥 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="aesKey" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.aesKey'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [nzSize]="'large'"
                                  [nzId]="'aesKey'"
                                  [(ngModel)]="model.aesKey"
                                  formControlName="aesKey"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('aesKey').dirty&&getFormControl('aesKey').hasError('required')">
                        {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 标识 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="token" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.token'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [nzSize]="'large'"
                                  [nzId]="'token'"
                                  [(ngModel)]="model.token"
                                  formControlName="token"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('token').dirty&&getFormControl('token').hasError('required')">
                        {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 应用秘钥 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="appsecret" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.appsecret'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [nzSize]="'large'"
                                  [nzId]="'appsecret'"
                                  [(ngModel)]="model.appsecret"
                                  formControlName="appsecret"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('appsecret').dirty&&getFormControl('appsecret').hasError('required')">
                        {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 主服务域名 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="host" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.host'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [nzSize]="'large'"
                                  [nzId]="'host'"
                                  [(ngModel)]="model.host"
                                  formControlName="host"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('host').dirty&&getFormControl('host').hasError('required')">
                            {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 授权域 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="authHost" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.authHost'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [(ngModel)]="model.authHost"
                                  name="authHost"
                                  nzId="authHost"
                                  formControlName="authHost"
                                  [nzSize]="'large'"
                                  [nzType]="'textarea'"
                                  [nzRows]="4"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('authHost').dirty&&getFormControl('authHost').hasError('required')">
                            {{'default.validationMessages.emptyErr' | translate}}
                        </div>
                    </div>
                </div>
            </div>
            <!-- 备注 -->
            <div nz-col [nzSpan]="12">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSpan]="5">
                        <label for="remark">{{'WxDevPlatform.addPlatformPage.modelFields.remark'|translate}}</label>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="19" nzHasFeedback>
                        <nz-input [(ngModel)]="model.remark"
                                  name="remark"
                                  nzId="remark"
                                  formControlName="remark"
                                  [nzSize]="'large'"
                                  [nzType]="'textarea'"
                                  [nzRows]="4"
                                  nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>
                    </div>
                </div>
            </div>
            <!-- 授权域 -->
            <!--<div nz-col [nzSpan]="24">-->
                <!--<div nz-row nz-form-item>-->
                    <!--<div nz-col nz-form-label [nzSm]="2">-->
                        <!--<label for="authHost" nz-form-item-required>{{'WxDevPlatform.addPlatformPage.modelFields.authHost'|translate}}</label>-->
                    <!--</div>-->
                    <!--<div nz-col nz-form-control [nzSm]="22" nzHasFeedback>-->
                        <!--<nz-input [(ngModel)]="model.authHost"-->
                                  <!--name="authHost"-->
                                  <!--nzId="authHost"-->
                                  <!--formControlName="authHost"-->
                                  <!--[nzSize]="'large'"-->
                                  <!--[nzType]="'textarea'"-->
                                  <!--[nzRows]="4"-->
                                  <!--nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>-->
                        <!--<div nz-form-explain *ngIf="getFormControl('authHost').dirty&&getFormControl('authHost').hasError('required')">-->
                            <!--{{'default.validationMessages.emptyErr' | translate}}-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
            <!-- 备注 -->
            <!--<div nz-col [nzSpan]="24">-->
                <!--<div nz-row nz-form-item>-->
                    <!--<div nz-col nz-form-label [nzSm]="2">-->
                        <!--<label for="remark">{{'WxDevPlatform.addPlatformPage.modelFields.remark'|translate}}</label>-->
                    <!--</div>-->
                    <!--<div nz-col nz-form-control [nzSm]="22">-->
                        <!--<nz-input [(ngModel)]="model.remark"-->
                                  <!--name="remark"-->
                                  <!--nzId="remark"-->
                                  <!--formControlName="remark"-->
                                  <!--[nzSize]="'large'"-->
                                  <!--[nzType]="'textarea'"-->
                                  <!--[nzRows]="4"-->
                                  <!--nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}"></nz-input>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div nz-form-item nz-row class="margin-top-btn">
            <div nz-form-control nz-col class="text-center">
                <button nz-button [nzType]="'primary'" nzSize="large" [nzLoading]="isLoad" [disabled]="!wxDevPlatformFormGroup.valid">
                    <span>{{'default.btn.saveBtn' | translate}}</span>
                </button>
                <button nz-button [nzType]="'default'" nzSize="large" (click)="onBack()">
                    <span>{{'default.btn.cancelBtn' | translate}}</span>
                </button>
            </div>
        </div>
    </form>
</nz-card>


